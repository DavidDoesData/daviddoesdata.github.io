---
title: "Project Overview:"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
htmltools::tagList(rmarkdown::html_dependency_font_awesome())
```

## College Basketball Prediction Engine
####[<i class="fa fa-github fa-lg"></i> Repo]("https://github.com/DavidDoesData/cbbpa") [<i class="fa fa-youtube-play fa-lg"></i> Playlist]("https://www.youtube.com/playlist?list=PLuMZyjodYY6T9WM2Opa_-vwig970tYA5_")


### Project Goal

This project is an attempt at making a predictive model for NCAA Div I Men's Basketball games. In addition to predicting winners, we want to predict point spreads.

### The Data

I'm scraping it from ESPN.com. I'll need to write a web crawler/scraper to collect the data. Since I'm coding in R, I'll be using Rvest.


```R
install.packages('rvest')
```

This is where we're looking for links to crawl: [ESPN](http://www.espn.com/mens-college-basketball/teams)

We can find the Team Ids by searching for something that looks like this:
```
/ncb/teams/stats?teamId=XXXX
```

The url structures we'll be crawling are:
```
http://www.espn.com/mens-college-basketball/team/schedule/_/id/XXXX/year/YYYY
XXXX: Team Id
YYYY: The Year
```
We need the year, so we can go back in time and grab historical results.

The html structure we need to scrape and build a dataset from:
```
<tr class="oddrow team-41-314">
  <td>
    Fri, Nov 10
  </td>
  <td align="left">
    <ul class="game-schedule">
      <li class="game-status">
        vs
      </li>
      <li class="team-logo-small logo-ncaa-small">
        <a href="http://www.espn.com/mens-college-basketball/team/_/id/314/iona-gaels">
          <img src="http://a.espncdn.com/combiner/i?img=/i/teamlogos/ncaa/500/314.png&amp;w=80&amp;h=80&amp;transparent=true">
        </a>
      </li>
      
      <li class="team-name">
        <a href="http://www.espn.com/mens-college-basketball/team/_/id/314/iona-gaels">
          Iona
        </a>
      </li>
    </ul>
  </td>
  <td>
    <ul class="game-schedule">
      <li class="game-status win">
        <span class="greenfont">
          W
        </span>
      </li>
      
      <li class="score">
        <a href="//www.espn.com/ncb/recap/_/gameId/400989985">
          69-67
        </a>
      </li>
    </ul>
  </td>
  <td>
    1-0 (0-0)
  </td>
</tr>
```

### Let's Break That Down A Bit
First things first, we only need home games. The away games for any team will show up on the opponents pages as home games. They are identified by the followinf:
```
<li class="game-status">
  vs
</li>
```

Second, we want the opponents team name and id. We can find that here:
```
<a href="http://www.espn.com/mens-college-basketball/team/_/id/314/iona-gaels">
  Iona
</a>
```